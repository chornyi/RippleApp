/*! angular-kendo 0.6.0 2014-02-03 */
!function(a,b){function c(a){return a=b(a),kendo.widgetInstance(a,kendo.ui)||kendo.widgetInstance(a,kendo.mobile.ui)||kendo.widgetInstance(a,kendo.dataviz.ui)}function d(a,b,c,d){a.bind.call(a,b,c,d);var e=a._events[b];e.unshift(e.pop())}function e(a,c,d,e){function f(){e.columns.forEach(function(a){!a.field||a.template||a.format||(a.template="{{dataItem."+a.field+"}}")})}function h(a){var d=e.dataBound;e.dataBound=function(e){var f=e.sender,h=f.dataSource,i=!1;return f.items().each(function(){var d="TreeView"==a?b(this).find(".k-in").filter(":first"):b(this);if(!d.hasClass("ng-scope")){var e=b(this).attr(m),f=h.getByUid(e),g=c.$new();g.dataItem=f,k(d)(g),i=!0}}),i&&g(c),d?d.apply(this,arguments):void 0}}switch(a){case"Grid":h(),f();break;case"ListView":case"TreeView":h(a)}}function f(c,e,f,h,j){switch(c){case"ListView":case"Grid":this.bind("itemChange",function(a){var b=a.sender.dataSource,c=a.item[0],d=e.$new();d.dataItem=b.getByUid(a.item.attr(m)),k(c)(d),g(d)}),this.bind("dataBinding",function(c){c.sender.items().each(function(){if(b(this).attr(m)){var c=a.element(this).scope();c.$destroy()}})}),this.bind("change",function(c){var d,f,g,k,l,n,o=c.sender,p=o.dataSource,q={kendoEvent:c};a.isString(h.selectable)&&(d=-1!==h.selectable.indexOf("cell"),f=-1!==h.selectable.indexOf("multiple")),g=q.selected=this.select(),k=q.data=[],l=q.columns=[];for(var r=0;r<g.length;r++){var s=d?g[r].parentNode:g[r],t=b(s).attr(m),u=p.getByUid(t);d?(a.element.inArray(u,k)<0&&k.push(u),n=a.element(g[r]).index(),a.element.inArray(n,l)<0&&l.push(n)):k.push(u)}f||(q.data=k[0],q.selected=g[0]),e.$apply(function(){var a=i(j.kOnChange);a(e,q)})})}d(this,"contentLoad",function(a){a.contentElement||a.pane;k(a.contentElement)(e),g(e)})}function g(a){/^\$(digest|apply)$/.test(a.$root.$$phase)||a.$digest()}function h(a,b,c){var d=a.prototype[b];a.prototype[b]=function(){function a(){}var b=arguments,e=this;return a.prototype=e,a=new a,a.$callNextMethod=function(){return d.apply(e,arguments.length>0?arguments:b)},c.apply(a,b)}}var i,j,k,l,m=kendo.attr("uid"),n=a.module("kendo.directives",[]);n.config(["$provide",function(a){a.decorator("inputDirective",["$delegate",function(a){var c=a[0].compile;return a[0].compile=function(a,d){for(var e in d)if(d.hasOwnProperty(e)&&/^kendo/.test(e)&&"function"==typeof b.fn[e])return;return c.apply(this,arguments)},a}])}]);var o={dataSource:function(){var a={TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource"},b=function(a,b){return kendo.data[b].create(a)},d=function(d,e,f,g){var h=a[g]||"DataSource",i=b(d.$eval(f.kDataSource),h);return e.data("$kendoDataSource",i),d.$watch(f.kDataSource,function(a,d){if(a!==d){var f=b(a,h);e.data("$kendoDataSource",f);var g=c(e);g&&"function"==typeof g.setDataSource&&g.setDataSource(f)}}),i};return{create:d}}(),widget:function(){var c={kDataSource:!0,kOptions:!0,kRebind:!0},d=function(d,g,h,j){function k(){var c=a.extend({},d.$eval(h.kOptions));return b.each(h,function(a,b){m(c,{name:a,value:b})}),c.dataSource=g.inheritedData("$kendoDataSource")||c.dataSource,c}function m(b,e){var f,g,h;c[e.name]||/^kendo(Grid|ListView)$/.test(j)&&"kOnChange"==e.name||(f=e.name.match(/k(On)?([A-Z].*)/),f&&(g=f[2].charAt(0).toLowerCase()+f[2].slice(1),f[1]?(h=i(e.value),b[g]=function(a){"$apply"===d.$root.$$phase||"$digest"===d.$root.$$phase?h({kendoEvent:a}):d.$apply(function(){h(d,{kendoEvent:a})})}):(b[g]=a.copy(d.$eval(e.value)),void 0===b[g]&&e.value.match(/^\w*$/)&&l.warn(j+"'s "+e.name+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+e.value+"'?"))))}var n=k(),p=j.replace("kendo","");return h.kDataSource&&(n.dataSource=o.dataSource.create(d,g,h,p)),e(p,d,g,n,h),j=b(g)[j](n).data(j),f.call(j,p,d,g,n,h),j};return{create:d}}()};n.factory("directiveFactory",["$timeout","$parse","$compile","$log",function(a,c,e,f){function g(a,b,d,e){if(d[e]){var f=c(d[e]).assign;if(!f)throw new Error(e+" attribute used but expression in it is not assignable: "+d[e]);f(b,a)}}function h(a){return null==a?null:"string"==typeof a&&/^[+-]?([0-9]+(\.[0-9]*)?|\.[0-9]+)$/.test(a)?parseFloat(a):a}j=a,i=c,k=e,l=f;var m=function(a){return{restrict:"ACE",require:"?ngModel",scope:!1,link:function(c,e,f,i){b(e)[0].removeAttribute("data-"+a.replace(/([A-Z])/g,"-$1"));var k=b(e)[0].cloneNode(!0);j(function(){function j(){function b(){"$apply"===c.$root.$$phase||"$digest"===c.$root.$$phase?i.$setViewValue(l.value()):c.$apply(function(){i.$setViewValue(l.value())})}if(g(l,c,f,a),m&&m(),m=c.$on("$destroy",function(){l.destroy()}),i){if(!l.value)throw new Error("ng-model used but "+a+" does not define a value accessor");i.$render=function(){l.value(h(i.$viewValue))},d(l,"change",b),d(l,"dataBound",b),l.value()!=i.$viewValue&&(void 0!==i.$viewValue&&l.value(h(i.$viewValue)),void 0!==l.value()&&i.$setViewValue(l.value()))}}var l=o.widget.create(c,e,f,a);f.kRebind&&c.$watch(f.kRebind,function(d,g){if(d!==g)try{var h=b(l.wrapper)[0],i=b(l.element)[0];if(l.destroy(),h&&i){h.parentNode.replaceChild(i,h);var m=k.cloneNode(!0);b(e).replaceWith(m),e=b(m)}l=o.widget.create(c,e,f,a),j()}catch(n){console.error(n),console.error(n.stack)}},!0),j();var m=null;!function(){function a(){g.disconnect()}function c(){g.observe(b(e)[0],{attributes:!0})}if(window.MutationObserver&&l.wrapper&&b(l.wrapper)[0]!==b(e)[0]){var f=[].slice.call(b(e)[0].classList),g=new MutationObserver(function(d){a(),d.forEach(function(a){var c=b(l.wrapper)[0];switch(a.attributeName){case"class":var d=[].slice.call(a.target.classList);d.forEach(function(a){f.indexOf(a)<0&&c.classList.add(a)}),f.forEach(function(a){d.indexOf(a)<0&&c.classList.remove(a)}),f=d;break;case"disabled":"function"==typeof l.enable&&l.enable(!b(a.target).attr("disabled"));break;case"readonly":"function"==typeof l.readonly&&l.readonly(!!b(a.target).attr("readonly"))}}),c()});c(),d(l,"destroy",a)}}()})}}};return{create:m}}]),a.forEach([kendo.ui,kendo.dataviz&&kendo.dataviz.ui],function(b){a.forEach(b,function(a,b){if(b.match(/^[A-Z]/)&&"Widget"!==b){var c="kendo"+b;n.directive(c,["directiveFactory",function(a){return a.create(c)}])}})}),h(kendo.ui.Draggable,"_start",function(){if(this.$callNextMethod(),this.hint&&this.$angularScope){var a=this.$angularScope(this.currentTarget);k(this.hint)(a),g(a)}}),h(kendo.ui.Draggable,"_afterEnd",function(){if(this.hint){var a=this.hint.scope();a&&a.$destroy()}this.$callNextMethod()}),h(kendo.ui.TreeView,"_dragging",function(){var a=this;a.$callNextMethod(),a.dragging&&(a.dragging._draggable.$angularScope=function(c){var d=b(c).scope().$new();return d.dataItem=a.dataItem(c),d})})}(angular,jQuery);